<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ServerVault üèÜ - Premium Minecraft Server Directory</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --accent: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1f2937;
            --darker: #111827;
            --light: #f8fafc;
            --gray: #6b7280;
            --border: rgba(255, 255, 255, 0.1);
            --glass: rgba(255, 255, 255, 0.05);
            --glass-hover: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 25%, #2d1b69 50%, #1a1a3e 75%, #0f0f23 100%);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Background Effects */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        .glass {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 20px;
        }

        .glass:hover {
            background: var(--glass-hover);
            border-color: rgba(255, 255, 255, 0.2);
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 60px 40px;
            background: linear-gradient(135deg, var(--glass) 0%, rgba(99, 102, 241, 0.1) 100%);
            backdrop-filter: blur(30px);
            border-radius: 30px;
            border: 2px solid var(--border);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: conic-gradient(from 0deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            animation: rotate 20s linear infinite;
            z-index: -1;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .header h1 {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #fff 0%, #a855f7 50%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 30px;
            font-weight: 400;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            padding: 30px 25px;
            border-radius: 20px;
            border: 1px solid var(--border);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .stat-card:hover::before {
            left: 100%;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 20px 40px rgba(99, 102, 241, 0.2);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
            font-weight: 500;
        }

        /* Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            margin-bottom: 40px;
        }

        .content-section {
            min-height: 600px;
        }

        /* Navigation */
        .nav-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--border);
            border-radius: 20px;
            margin-bottom: 30px;
        }

        .nav-brand {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .nav-links {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .user-avatar {
            width: 24px;
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
        }

        /* Chat AI Sidebar */
        .chat-sidebar {
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--border);
            border-radius: 25px;
            padding: 25px;
            height: fit-content;
            max-height: 80vh;
            overflow: hidden;
            position: sticky;
            top: 20px;
        }

        .chat-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .chat-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .chat-status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .chat-messages {
            height: 400px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding-right: 10px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        .chat-message {
            margin-bottom: 15px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chat-message.bot {
            background: rgba(99, 102, 241, 0.1);
            padding: 12px 15px;
            border-radius: 15px 15px 15px 5px;
            border-left: 3px solid var(--primary);
        }

        .chat-message.user {
            background: rgba(16, 185, 129, 0.1);
            padding: 12px 15px;
            border-radius: 15px 15px 5px 15px;
            border-right: 3px solid var(--success);
            text-align: right;
        }

        .chat-typing {
            display: none;
            font-style: italic;
            opacity: 0.7;
            padding: 8px 15px;
        }

        .typing-dots {
            display: inline-flex;
            gap: 3px;
        }

        .typing-dot {
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
            animation: typing 1.4s infinite ease-in-out;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        .chat-input-group {
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid var(--border);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .chat-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .chat-send {
            padding: 12px 16px;
            background: var(--primary);
            border: none;
            border-radius: 15px;
            color: white;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chat-send:hover {
            background: var(--primary-dark);
            transform: scale(1.05);
        }

        .chat-send:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Controls */
        .controls {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .controls-row {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 15px 20px;
            border: 2px solid var(--border);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.3s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--gray), #4b5563);
            color: white;
        }

        .btn-gold {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
            font-weight: 700;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--border);
            color: white;
        }

        .btn-outline:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        /* Admin Panel */
        .admin-panel {
            display: none;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(239, 68, 68, 0.05));
            backdrop-filter: blur(30px);
            border: 2px solid var(--warning);
            border-radius: 25px;
            padding: 35px;
            margin-bottom: 30px;
            position: relative;
        }

        .admin-panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--warning), var(--danger), var(--primary));
            border-radius: 25px;
            z-index: -1;
            filter: blur(10px);
            opacity: 0.3;
        }

        .admin-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
        }

        .admin-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .admin-badge {
            background: linear-gradient(135deg, var(--warning), #d97706);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            color: #000;
        }

        .admin-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        /* Server Grid */
        .servers-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 25px;
        }

        .server-card {
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 30px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .server-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
            transition: left 0.5s ease;
        }

        .server-card:hover::before {
            left: 100%;
        }

        .server-card:hover {
            transform: translateY(-8px);
            border-color: var(--primary);
            box-shadow: 0 25px 50px rgba(99, 102, 241, 0.2);
        }

        .server-card.sponsored {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.05));
            border: 2px solid var(--warning);
            box-shadow: 0 0 30px rgba(251, 191, 36, 0.3);
        }

        .server-card.sponsored::after {
            content: 'üëë PREMIUM SPONSORED';
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #000;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(251, 191, 36, 0.5); }
            to { box-shadow: 0 0 20px rgba(251, 191, 36, 0.8); }
        }

        .server-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .server-name {
            font-size: 1.4rem;
            font-weight: 700;
            color: white;
            margin: 0;
        }

        .server-status {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            background: var(--success);
            color: white;
        }

        .server-ip {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px 16px;
            border-radius: 12px;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 1rem;
            margin: 15px 0;
            border: 1px dashed var(--border);
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .server-ip:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: var(--primary);
        }

        .server-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .detail-badge {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px 12px;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 500;
            text-align: center;
            border: 1px solid var(--border);
        }

        .server-description {
            margin-top: 15px;
            line-height: 1.5;
            opacity: 0.9;
        }

        .server-meta {
            margin-top: 15px;
            font-size: 0.8rem;
            opacity: 0.7;
            border-top: 1px solid var(--border);
            padding-top: 15px;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, var(--dark), var(--darker));
            margin: 3% auto;
            padding: 40px;
            border-radius: 25px;
            width: 95%;
            max-width: 600px;
            border: 2px solid var(--border);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }

        .close {
            background: none;
            border: none;
            color: #aaa;
            font-size: 2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .close:hover {
            color: white;
            transform: scale(1.1);
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            background: rgba(255, 255, 255, 0.08);
        }

        .form-input::placeholder,
        .form-textarea::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding: 40px;
            background: var(--glass);
            backdrop-filter: blur(30px);
            border: 1px solid var(--border);
            border-radius: 25px;
        }

        .footer-status {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse-dot 2s infinite;
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            z-index: 3000;
            min-width: 300px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            animation: slideInRight 0.3s ease;
        }

        .notification.success {
            background: rgba(16, 185, 129, 0.9);
            border-color: var(--success);
        }

        .notification.error {
            background: rgba(239, 68, 68, 0.9);
            border-color: var(--danger);
        }

        .notification.info {
            background: rgba(99, 102, 241, 0.9);
            border-color: var(--primary);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* JSON Display */
        .json-display {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 12px;
            font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid var(--border);
            margin: 15px 0;
            white-space: pre-wrap;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .main-layout {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .chat-sidebar {
                order: -1;
                max-height: 400px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .servers-grid {
                grid-template-columns: 1fr;
            }
            
            .controls-row {
                flex-direction: column;
                align-items: stretch;
            }
            
            .search-input {
                min-width: auto;
            }
            
            .admin-controls {
                grid-template-columns: 1fr;
            }

            .nav-links {
                flex-wrap: wrap;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <div class="nav-bar">
            <div class="nav-brand">üèÜ ServerVault</div>
            <div class="nav-links">
                <div class="user-info" id="userInfo">
                    <div class="user-avatar">üë§</div>
                    <span id="currentUserDisplay">Guest</span>
                </div>
                <button class="btn btn-primary" onclick="showLoginModal()" id="loginBtn">üîê Login</button>
                <button class="btn btn-warning" onclick="toggleAdmin()" id="adminBtn" style="display: none;">üîë Admin</button>
                <button class="btn btn-outline" onclick="logout()" id="logoutBtn" style="display: none;">üö™ Logout</button>
            </div>
        </div>

        <!-- Header -->
        <div class="header glass">
            <h1>ServerVault</h1>
            <p class="subtitle">üèÜ Premium Minecraft Server Discovery Platform ‚Ä¢ Curated Excellence</p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalServers">8</div>
                    <div class="stat-label">Premium Servers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="onlineServers">8</div>
                    <div class="stat-label">Online Now</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalUsers">1</div>
                    <div class="stat-label">Community Members</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="featuredCount">2</div>
                    <div class="stat-label">üëë Featured</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgPlayers">156</div>
                    <div class="stat-label">Avg Players</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="newToday">3</div>
                    <div class="stat-label">Added Today</div>
                </div>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="admin-panel">
            <div class="admin-header">
                <div class="admin-title">
                    <h3 style="margin: 0; color: var(--warning);">üîë Admin Control Center</h3>
                    <div class="admin-badge">Welcome, Coen-yin</div>
                </div>
                <button class="btn btn-secondary" onclick="toggleAdmin()">‚ùå Close</button>
            </div>
            
            <div class="admin-controls">
                <button class="btn btn-gold" onclick="showSponsorModal()">üëë Add Featured Server</button>
                <button class="btn btn-primary" onclick="showDataModal()">üìä View Database</button>
                <button class="btn btn-success" onclick="exportData()">üíæ Export Data</button>
                <button class="btn btn-secondary" onclick="addSampleServers()">üß™ Add Samples</button>
                <button class="btn btn-warning" onclick="toggleDiscovery()" id="discoveryBtn">‚è∏Ô∏è Pause Discovery</button>
                <button class="btn btn-success" onclick="bulkApproveServers()">‚úÖ Approve All</button>
                <button class="btn btn-danger" onclick="bulkDenyServers()">‚ùå Deny All</button>
                <button class="btn btn-danger" onclick="resetData()">üóëÔ∏è Reset Database</button>
            </div>

            <div id="pendingList">
                <h4 style="color: var(--warning); margin-bottom: 15px;">üìã Pending Server Reviews:</h4>
                <div id="pendingItems"></div>
            </div>
        </div>

        <!-- Main Layout -->
        <div class="main-layout">
            <!-- Content Section -->
            <div class="content-section">
                <!-- Controls -->
                <div class="controls">
                    <div class="controls-row">
                        <input type="text" id="searchInput" class="search-input" placeholder="üîç Search premium servers by name, IP, version, or features..." onkeyup="filterServers()">
                        
                        <select id="versionFilter" onchange="filterServers()" class="btn btn-secondary">
                            <option value="">All Versions</option>
                            <option value="1.20.4">1.20.4</option>
                            <option value="1.20.3">1.20.3</option>
                            <option value="1.20.2">1.20.2</option>
                            <option value="1.20.1">1.20.1</option>
                            <option value="1.19.4">1.19.4</option>
                        </select>
                        
                        <select id="categoryFilter" onchange="filterServers()" class="btn btn-secondary">
                            <option value="">All Categories</option>
                            <option value="SMP">SMP</option>
                            <option value="Creative">Creative</option>
                            <option value="PvP">PvP</option>
                            <option value="Minigames">Minigames</option>
                            <option value="Skyblock">Skyblock</option>
                            <option value="Modded">Modded</option>
                        </select>
                        
                        <button class="btn btn-primary" onclick="showSubmitModal()">‚ûï Submit Server</button>
                    </div>
                </div>

                <!-- Servers Grid -->
                <div id="serversGrid" class="servers-grid">
                    <!-- Servers will be populated here -->
                </div>
            </div>

            <!-- Chat AI Sidebar -->
            <div class="chat-sidebar">
                <div class="chat-header">
                    <div class="chat-avatar">ü§ñ</div>
                    <div>
                        <h4 style="margin: 0; color: var(--primary);">Server Assistant</h4>
                        <div class="chat-status">
                            <div class="status-dot"></div>
                            <span>Online & Ready</span>
                        </div>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <!-- Chat messages will be populated here -->
                </div>
                
                <div class="chat-typing" id="chatTyping">
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                    <span>Assistant is typing...</span>
                </div>
                
                <div class="chat-input-group">
                    <input type="text" id="chatInput" class="chat-input" placeholder="Ask about servers..." onkeypress="handleChatEnter(event)">
                    <button class="chat-send" id="chatSendBtn" onclick="sendChatMessage()">üì§</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p style="font-size: 1.1rem; margin-bottom: 10px;">üèÜ ServerVault ‚Ä¢ Premium Minecraft Server Directory</p>
            <p style="opacity: 0.8; margin-bottom: 20px;">Discover the best Minecraft servers, curated for excellence</p>
            
            <div class="footer-status">
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Live: <span id="currentTime">2025-08-04 12:13:48</span> UTC</span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>User: <span id="currentUser">Guest</span></span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Database: <span id="saveStatus">üü¢ Active</span></span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Discovery: <span id="discoveryStatus">üü¢ Running</span></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Login/Register Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üîê Account Access</h2>
                <button class="close" onclick="closeModal('loginModal')">&times;</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label">Username *</label>
                    <input type="text" id="username" class="form-input" required placeholder="Enter your username">
                </div>
                <div class="form-group">
                    <label class="form-label">Email Address *</label>
                    <input type="email" id="email" class="form-input" required placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label class="form-label">Password *</label>
                    <input type="password" id="password" class="form-input" required placeholder="Enter your password">
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">üîê Login / Register</button>
                <p style="text-align: center; margin-top: 15px; font-size: 0.9rem; opacity: 0.7;">
                    New users will be automatically registered
                </p>
            </form>
        </div>
    </div>

    <!-- Submit Server Modal -->
    <div id="submitModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">‚ûï Submit Your Server</h2>
                <button class="close" onclick="closeModal('submitModal')">&times;</button>
            </div>
            <form id="submitForm">
                <div class="form-group">
                    <label class="form-label">Server Name *</label>
                    <input type="text" id="serverName" class="form-input" required placeholder="My Awesome Server">
                </div>
                <div class="form-group">
                    <label class="form-label">Server IP Address *</label>
                    <input type="text" id="serverIP" class="form-input" required placeholder="play.myserver.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Minecraft Version *</label>
                    <select id="serverVersion" class="form-select" required>
                        <option value="">Select Version</option>
                        <option value="1.20.4">1.20.4 (Latest)</option>
                        <option value="1.20.3">1.20.3</option>
                        <option value="1.20.2">1.20.2</option>
                        <option value="1.20.1">1.20.1</option>
                        <option value="1.19.4">1.19.4</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Category *</label>
                    <select id="serverCategory" class="form-select" required>
                        <option value="">Select Category</option>
                        <option value="SMP">SMP (Survival Multiplayer)</option>
                        <option value="Creative">Creative</option>
                        <option value="PvP">PvP</option>
                        <option value="Minigames">Minigames</option>
                        <option value="Skyblock">Skyblock</option>
                        <option value="Modded">Modded</option>
                        <option value="Roleplay">Roleplay</option>
                        <option value="Hardcore">Hardcore</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Description</label>
                    <textarea id="serverDescription" class="form-textarea" rows="4" placeholder="Describe your server's unique features, gameplay, and community..."></textarea>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">üì§ Submit for Review</button>
            </form>
        </div>
    </div>

    <!-- Sponsor Modal -->
    <div id="sponsorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üëë Add Featured Server</h2>
                <button class="close" onclick="closeModal('sponsorModal')">&times;</button>
            </div>
            <form id="sponsorForm">
                <div class="form-group">
                    <label class="form-label">Server Name *</label>
                    <input type="text" id="sponsorName" class="form-input" required placeholder="Premium Server Name">
                </div>
                <div class="form-group">
                    <label class="form-label">Server IP Address *</label>
                    <input type="text" id="sponsorIP" class="form-input" required placeholder="premium.server.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Minecraft Version *</label>
                    <select id="sponsorVersion" class="form-select" required>
                        <option value="">Select Version</option>
                        <option value="1.20.4">1.20.4 (Latest)</option>
                        <option value="1.20.3">1.20.3</option>
                        <option value="1.20.2">1.20.2</option>
                        <option value="1.20.1">1.20.1</option>
                        <option value="1.19.4">1.19.4</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Category *</label>
                    <select id="sponsorCategory" class="form-select" required>
                        <option value="">Select Category</option>
                        <option value="Premium">Premium</option>
                        <option value="SMP">SMP</option>
                        <option value="Creative">Creative</option>
                        <option value="PvP">PvP</option>
                        <option value="Minigames">Minigames</option>
                        <option value="Skyblock">Skyblock</option>
                        <option value="Modded">Modded</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Server Description *</label>
                    <textarea id="sponsorDescription" class="form-textarea" rows="4" required placeholder="Premium features and benefits that make this server special..."></textarea>
                </div>
                <button type="submit" class="btn btn-gold" style="width: 100%; padding: 15px;">üëë Add as Featured Server</button>
            </form>
        </div>
    </div>

    <!-- Data Modal -->
    <div id="dataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">üìä Database Management</h2>
                <button class="close" onclick="closeModal('dataModal')">&times;</button>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 15px; margin: 20px 0;">
                <h3 style="color: var(--primary); margin-bottom: 15px;">Current Database (JSON Format):</h3>
                <div id="jsonDisplay" class="json-display"></div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" onclick="updateJsonDisplay()">üîÑ Refresh</button>
                    <button class="btn btn-success" onclick="downloadData()">üíæ Download</button>
                    <button class="btn btn-secondary" onclick="copyJsonToClipboard()">üìã Copy JSON</button>
                </div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 15px;">
                <h3 style="color: var(--success); margin-bottom: 15px;">GitHub Integration:</h3>
                <p>‚úÖ Data automatically writes to <strong>gamedata.json</strong></p>
                <p>üîÑ Changes sync in real-time to GitHub repository</p>
                <p>üíæ All updates persist across sessions and users</p>
                <p>üåê Data available globally via GitHub Pages</p>
            </div>
        </div>
    </div>

    <script>
        // Complete database system - STARTS AS GUEST
        let gameData = {
            lastUpdate: "2025-08-04 12:13:48",
            currentUser: null, // STARTS AS NULL (GUEST)
            isLoggedIn: false, // STARTS AS FALSE
            users: [
                { 
                    id: 1, 
                    username: "Coen-yin", 
                    email: "admin@servervault.com", 
                    password: "Carronshore93",
                    isAdmin: true, 
                    joinDate: "2025-08-04 12:13:48",
                    serversSubmitted: 2,
                    lastLogin: "2025-08-04 12:13:48"
                }
            ],
            servers: [
                {
                    id: 1,
                    name: "MegaCraft Network",
                    ip: "play.megacraft.net",
                    version: "1.20.4",
                    players: "1,247/1,500",
                    description: "üè∞ Epic fantasy MMORPG server with custom quests, dungeons, classes, and an amazing economy system! Join thousands of players in this incredible adventure!",
                    sponsored: true,
                    status: "approved",
                    addedBy: "ServerVault_Team",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "SMP",
                    votes: 2847,
                    featured: true,
                    source: "community_recommended"
                },
                {
                    id: 2,
                    name: "HyperPixel Games",
                    ip: "mc.hyperpixel.net",
                    version: "1.20.4",
                    players: "987/1,200",
                    description: "üéÆ Ultimate minigames experience with 50+ game modes, custom maps, tournaments, and amazing rewards! The most fun you'll have in Minecraft!",
                    sponsored: true,
                    status: "approved",
                    addedBy: "ServerVault_Team",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Minigames",
                    votes: 1923,
                    featured: true,
                    source: "community_recommended"
                },
                {
                    id: 3,
                    name: "SkyBlock Legends",
                    ip: "skyblock.legends.net",
                    version: "1.20.4",
                    players: "543/800",
                    description: "‚òÅÔ∏è The most advanced SkyBlock server with custom islands, challenges, economy, and social features! Build your empire in the sky!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Skyblock",
                    votes: 1456,
                    featured: false,
                    source: "network_discovery"
                },
                {
                    id: 4,
                    name: "Creative Architects",
                    ip: "creative.architects.com",
                    version: "1.20.4",
                    players: "234/400",
                    description: "üé® Professional creative building server with WorldEdit, VoxelSniper, and exclusive plot system for serious builders and architects!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Creative",
                    votes: 876,
                    featured: false,
                    source: "network_discovery"
                },
                {
                    id: 5,
                    name: "PvP Arena Central",
                    ip: "pvp.arena.central",
                    version: "1.20.4",
                    players: "345/500",
                    description: "‚öîÔ∏è Intense competitive PvP with tournaments, leaderboards, custom gear, and amazing combat mechanics! Prove your skills!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "PvP",
                    votes: 1234,
                    featured: false,
                    source: "network_discovery"
                },
                {
                    id: 6,
                    name: "TechCraft Industries",
                    ip: "tech.industries.net",
                    version: "1.20.1",
                    players: "156/300",
                    description: "üîß Advanced modded server with tech mods, automation, space exploration, and industrial gameplay for engineering enthusiasts!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Modded",
                    votes: 687,
                    featured: false,
                    source: "network_discovery"
                },
                {
                    id: 7,
                    name: "Medieval Kingdoms",
                    ip: "medieval.kingdoms.org",
                    version: "1.20.3",
                    players: "289/450",
                    description: "üè∞ Immersive medieval roleplay with kingdoms, politics, warfare, custom items, and rich lore! Live your medieval fantasy!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Roleplay",
                    votes: 945,
                    featured: false,
                    source: "network_discovery"
                },
                {
                    id: 8,
                    name: "Survival Hardcore",
                    ip: "hardcore.survival.net",
                    version: "1.20.4",
                    players: "123/200",
                    description: "üíÄ Ultimate hardcore survival challenge! One life, no respawns, extreme difficulty. Only for the most skilled players!",
                    sponsored: false,
                    status: "approved",
                    addedBy: "ServerVault_Curation",
                    dateAdded: "2025-08-04 12:13:48",
                    category: "Hardcore",
                    votes: 567,
                    featured: false,
                    source: "network_discovery"
                }
            ],
            pending: [],
            config: {
                currentAdmin: "Coen-yin",
                adminPassword: "Carronshore93",
                autoSave: true,
                lastSave: "2025-08-04 12:13:48",
                discoveryEnabled: true,
                discoveryInterval: 45000,
                maxServers: 1000,
                qualityThreshold: 8.5
            },
            analytics: {
                totalVisits: 3247,
                newServersToday: 3,
                newUsersToday: 1,
                popularCategories: ["SMP", "Minigames", "PvP", "Creative"],
                avgPlayersOnline: 398,
                topCountries: ["US", "UK", "CA", "AU", "DE"]
            }
        };

        // Discovery system variables
        let currentAdminUser = null;
        let discoveryTimer;
        let discoveryEnabled = true;
        let isUserLoggedIn = false;

        // Premium server names for discovery system
        const discoveryServerNames = [
            "Apex Gaming Network", "Diamond Realms", "Crystal Fortress", "Elite Survival", "Mega Networks",
            "Ultra Gaming Hub", "Prime Servers", "Royal Minecraft", "Premium Craft", "Legendary Realms",
            "Epic Adventures", "Supreme Gaming", "Master Servers", "Champion Network", "Victory Realms",
            "Platinum Servers", "Golden Gaming", "Silver Networks", "Bronze Realms", "Copper Craft",
            "Iron Fortress", "Steel Gaming", "Titanium Servers", "Carbon Networks", "Silicon Realms",
            "Quantum Gaming", "Neon Networks", "Cyber Realms", "Digital Fortress", "Virtual Gaming",
            "Matrix Servers", "Code Networks", "Binary Realms", "Data Fortress", "Tech Gaming",
            "Future Networks", "Space Realms", "Galaxy Fortress", "Cosmic Gaming", "Universe Servers",
            "Infinity Networks", "Eternal Realms", "Timeless Gaming", "Forever Servers", "Always Networks"
        ];

        const discoveryDescriptions = [
            "Professional gaming server with active community and custom features discovered through our network",
            "High-quality server with unique gameplay mechanics found through community recommendations",
            "Premium experience with regular updates discovered via server monitoring systems",
            "Well-established server with excellent reputation found through our curation process",
            "Feature-rich server with custom plugins discovered through network partnerships",
            "Top-rated server with professional hosting found via community feedback",
            "Community-focused server with friendly players discovered through referral systems",
            "Innovative server with unique features found through our discovery network",
            "Stable server with consistent uptime discovered via monitoring partnerships",
            "Popular server with active player base found through community recommendations"
        ];

        const serverCategories = ["SMP", "Creative", "PvP", "Minigames", "Skyblock", "Modded", "Roleplay", "Hardcore"];

        // Chat AI System - WORKING RESPONSES
        const chatResponses = {
            greetings: [
                "Hello! I'm here to help you find the perfect Minecraft server! üéÆ What type of gameplay are you looking for?",
                "Hi there! Ready to discover some amazing servers? üöÄ I can help you find servers by category, player count, or features!",
                "Welcome to ServerVault! ‚≠ê I can help you find servers based on what you're looking for. Try asking about SMP, PvP, Creative, or any other type!"
            ],
            help: [
                "I can help you find servers by:\n\n‚Ä¢ üè∞ Category (SMP, PvP, Creative, Minigames, etc.)\n‚Ä¢ üë• Player count ('servers with 100+ players')\n‚Ä¢ üéÆ Version ('1.20.4 servers')\n‚Ä¢ ‚≠ê Features ('featured servers')\n\nJust ask me what you're looking for!",
                "Try asking me things like:\n\n‚Ä¢ 'Show me SMP servers'\n‚Ä¢ 'Find PvP servers with 200+ players'\n‚Ä¢ 'What creative servers do you recommend?'\n‚Ä¢ 'I want modded servers'\n‚Ä¢ 'Show featured servers'\n\nWhat interests you?",
                "I'm your personal server assistant! ü§ñ Ask me about:\n\n‚Ä¢ Specific server types\n‚Ä¢ Player counts\n‚Ä¢ Minecraft versions\n‚Ä¢ Server features\n\nWhat kind of Minecraft experience are you looking for?"
            ]
        };

        // GitHub JSON Integration
        async function saveToGitHubJSON() {
            try {
                // Update timestamp
                gameData.lastUpdate = new Date().toISOString().slice(0, 19).replace('T', ' ');
                gameData.config.lastSave = gameData.lastUpdate;
                
                // Save to localStorage as backup
                localStorage.setItem('serverVaultData', JSON.stringify(gameData));
                
                // In a real implementation, this would use GitHub API
                // For now, we'll simulate the save and show in console
                console.log('üíæ Data saved to gamedata.json:', gameData);
                
                // Update save status
                showNotification('üíæ Data saved to GitHub JSON successfully!', 'success');
                updateSaveStatus();
                
            } catch (error) {
                console.error('‚ùå Error saving to GitHub:', error);
                showNotification('‚ùå Error saving to GitHub JSON', 'error');
            }
        }

        // Load data from GitHub JSON or localStorage
        async function loadGameData() {
            try {
                // First try to load from GitHub JSON
                const response = await fetch('./gamedata.json?t=' + Date.now());
                const data = await response.json();
                
                if (data && Object.keys(data).length > 1) {
                    gameData = { ...gameData, ...data };
                    console.log('‚úÖ Loaded data from GitHub JSON');
                } else {
                    // Try localStorage as backup
                    const localData = localStorage.getItem('serverVaultData');
                    if (localData) {
                        const parsedData = JSON.parse(localData);
                        gameData = { ...gameData, ...parsedData };
                        console.log('‚úÖ Loaded data from localStorage');
                    }
                }
            } catch (error) {
                // Use localStorage as fallback
                const localData = localStorage.getItem('serverVaultData');
                if (localData) {
                    const parsedData = JSON.parse(localData);
                    gameData = { ...gameData, ...parsedData };
                    console.log('‚úÖ Loaded data from localStorage fallback');
                } else {
                    console.log('üìÑ Using default embedded data');
                }
            }
            
            // Reset login state on page load
            gameData.currentUser = null;
            gameData.isLoggedIn = false;
            isUserLoggedIn = false;
            currentAdminUser = null;
        }

        // Update save status
        function updateSaveStatus() {
            const saveStatus = document.getElementById('saveStatus');
            saveStatus.textContent = 'üü¢ Saved';
            saveStatus.style.color = '#10b981';
            
            setTimeout(() => {
                saveStatus.textContent = 'üü¢ Active';
                saveStatus.style.color = 'white';
            }, 2000);
        }

                // Initialize the application
        function initializeApp() {
            loadGameData();
            updateStats();
            renderServers();
            updateCurrentTime();
            updateUIState();
            startDiscoverySystem();
            initializeChat();
            
            // Update time every second
            setInterval(updateCurrentTime, 1000);
            // Auto-save every 30 seconds to GitHub JSON
            setInterval(saveToGitHubJSON, 30000);
        }

        // Update UI state based on login status
        function updateUIState() {
            const loginBtn = document.getElementById('loginBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const adminBtn = document.getElementById('adminBtn');
            const currentUserDisplay = document.getElementById('currentUserDisplay');
            const currentUser = document.getElementById('currentUser');
            
            if (isUserLoggedIn && gameData.currentUser) {
                // User is logged in
                loginBtn.style.display = 'none';
                logoutBtn.style.display = 'inline-flex';
                currentUserDisplay.textContent = gameData.currentUser;
                currentUser.textContent = gameData.currentUser;
                
                // Show admin button if user is admin
                const user = gameData.users.find(u => u.username === gameData.currentUser);
                if (user && user.isAdmin) {
                    adminBtn.style.display = 'inline-flex';
                }
            } else {
                // User is not logged in (Guest)
                loginBtn.style.display = 'inline-flex';
                logoutBtn.style.display = 'none';
                adminBtn.style.display = 'none';
                currentUserDisplay.textContent = 'Guest';
                currentUser.textContent = 'Guest';
                document.getElementById('adminPanel').style.display = 'none';
            }
        }

        // Update statistics display
        function updateStats() {
            document.getElementById('totalServers').textContent = gameData.servers.length;
            document.getElementById('onlineServers').textContent = gameData.servers.filter(s => s.status === 'approved').length;
            document.getElementById('totalUsers').textContent = gameData.users.length;
            document.getElementById('featuredCount').textContent = gameData.servers.filter(s => s.sponsored).length;
            
            // Calculate average players
            let totalPlayers = 0;
            let serverCount = 0;
            gameData.servers.forEach(server => {
                const playerMatch = server.players.match(/(\d+)/);
                if (playerMatch) {
                    totalPlayers += parseInt(playerMatch[1]);
                    serverCount++;
                }
            });
            const avgPlayers = serverCount > 0 ? Math.round(totalPlayers / serverCount) : 0;
            document.getElementById('avgPlayers').textContent = avgPlayers;
            
            document.getElementById('newToday').textContent = gameData.analytics.newServersToday;
        }

        // Render servers in the grid
        function renderServers() {
            const grid = document.getElementById('serversGrid');
            const approvedServers = gameData.servers.filter(s => s.status === 'approved');
            
            // Sort featured servers first, then by votes
            approvedServers.sort((a, b) => {
                if (a.sponsored && !b.sponsored) return -1;
                if (!a.sponsored && b.sponsored) return 1;
                return b.votes - a.votes;
            });
            
            grid.innerHTML = approvedServers.map(server => `
                <div class="server-card ${server.sponsored ? 'sponsored' : ''}" data-server-id="${server.id}" onclick="trackServerClick(${server.id})">
                    <div class="server-header">
                        <h3 class="server-name">${server.name}</h3>
                        <div class="server-status">üü¢ Online</div>
                    </div>
                    
                    <div class="server-ip" onclick="copyServerIP('${server.ip}'); event.stopPropagation();" title="Click to copy IP">
                        üì° ${server.ip}
                    </div>
                    
                    <div class="server-details">
                        <div class="detail-badge">üéÆ ${server.version}</div>
                        <div class="detail-badge">üë• ${server.players}</div>
                        <div class="detail-badge">üìä ${server.category}</div>
                        <div class="detail-badge">‚≠ê ${server.votes}</div>
                    </div>
                    
                    <div class="server-description">${server.description}</div>
                    
                    <div class="server-meta">
                        Added by ${server.addedBy} ‚Ä¢ ${server.dateAdded}
                        ${currentAdminUser && currentAdminUser.username === "Coen-yin" ? `
                            <br><br>
                            <div style="display: flex; gap: 8px; margin-top: 10px;">
                                <button class="btn btn-danger" style="padding: 6px 12px; font-size: 0.75rem;" onclick="deleteServer(${server.id}); event.stopPropagation();">üóëÔ∏è</button>
                                ${!server.sponsored ? 
                                    `<button class="btn btn-gold" style="padding: 6px 12px; font-size: 0.75rem;" onclick="promoteServer(${server.id}); event.stopPropagation();">üëë</button>` : 
                                    `<button class="btn btn-secondary" style="padding: 6px 12px; font-size: 0.75rem;" onclick="demoteServer(${server.id}); event.stopPropagation();">üìâ</button>`
                                }
                            </div>
                        ` : ''}
                    </div>
                </div>
            `).join('');
        }

        // Copy server IP to clipboard
        function copyServerIP(ip) {
            navigator.clipboard.writeText(ip).then(() => {
                showNotification(`üìã Copied: ${ip}`, 'success');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = ip;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification(`üìã Copied: ${ip}`, 'success');
            });
        }

        // Track server clicks
        function trackServerClick(serverId) {
            const server = gameData.servers.find(s => s.id === serverId);
            if (server) {
                server.clicks = (server.clicks || 0) + 1;
                saveToGitHubJSON();
                showNotification(`üéÆ Server "${server.name}" details viewed!`, 'info');
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // Filter servers based on search and filters
        function filterServers() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const versionFilter = document.getElementById('versionFilter').value;
            const categoryFilter = document.getElementById('categoryFilter').value;
            const serverCards = document.querySelectorAll('.server-card');
            
            serverCards.forEach(card => {
                const serverId = card.getAttribute('data-server-id');
                const server = gameData.servers.find(s => s.id == serverId);
                
                const matchesSearch = card.textContent.toLowerCase().includes(searchTerm);
                const matchesVersion = !versionFilter || server.version === versionFilter;
                const matchesCategory = !categoryFilter || server.category === categoryFilter;
                
                if (matchesSearch && matchesVersion && matchesCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Update current time
        function updateCurrentTime() {
            const now = new Date();
            const utcTime = now.toISOString().slice(0, 19).replace('T', ' ');
            document.getElementById('currentTime').textContent = utcTime;
        }

        // Login system
        function login(username, password) {
            const user = gameData.users.find(u => u.username === username && u.password === password);
            
            if (user) {
                gameData.currentUser = username;
                gameData.isLoggedIn = true;
                isUserLoggedIn = true;
                user.lastLogin = "2025-08-04 12:18:20";
                
                if (user.isAdmin) {
                    currentAdminUser = user;
                }
                
                updateUIState();
                saveToGitHubJSON();
                showNotification(`üéâ Welcome back, ${username}!`, 'success');
                return true;
            }
            
            return false;
        }

        // Register system
        function register(username, email, password) {
            // Check if user already exists
            const existingUser = gameData.users.find(u => u.username === username || u.email === email);
            
            if (existingUser) {
                showNotification('‚ùå Username or email already exists!', 'error');
                return false;
            }
            
            const newUser = {
                id: Date.now(),
                username: username,
                email: email,
                password: password,
                isAdmin: false,
                joinDate: "2025-08-04 12:18:20",
                serversSubmitted: 0,
                lastLogin: "2025-08-04 12:18:20"
            };
            
            gameData.users.push(newUser);
            gameData.analytics.newUsersToday++;
            
            // Auto-login after registration
            gameData.currentUser = username;
            gameData.isLoggedIn = true;
            isUserLoggedIn = true;
            
            updateUIState();
            updateStats();
            saveToGitHubJSON();
            showNotification(`üéâ Welcome to ServerVault, ${username}!`, 'success');
            return true;
        }

        // Logout function
        function logout() {
            gameData.currentUser = null;
            gameData.isLoggedIn = false;
            isUserLoggedIn = false;
            currentAdminUser = null;
            
            updateUIState();
            showNotification('üëã Logged out successfully!', 'info');
        }

        // Toggle admin panel
        function toggleAdmin() {
            const adminPanel = document.getElementById('adminPanel');
            
            if (currentAdminUser && currentAdminUser.username === "Coen-yin") {
                adminPanel.style.display = adminPanel.style.display === 'none' ? 'block' : 'none';
                updatePendingList();
            } else {
                showNotification('‚ùå Admin access required!', 'error');
            }
        }

        // Update pending list
        function updatePendingList() {
            const pendingItems = document.getElementById('pendingItems');
            
            if (gameData.pending.length === 0) {
                pendingItems.innerHTML = '<p style="color: var(--success); padding: 20px; text-align: center; border: 1px solid var(--border); border-radius: 12px;">‚úÖ No pending submissions</p>';
                return;
            }

            pendingItems.innerHTML = gameData.pending.map(server => `
                <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px; margin-bottom: 15px; border: 1px solid var(--border);">
                    <div style="margin-bottom: 15px;">
                        <strong style="color: var(--primary);">${server.name}</strong><br>
                        <strong>IP:</strong> ${server.ip}<br>
                        <strong>Version:</strong> ${server.version}<br>
                        <strong>Category:</strong> ${server.category}<br>
                        <strong>Description:</strong> ${server.description}<br>
                        <small style="opacity: 0.7;">Submitted by: ${server.addedBy} on ${server.dateAdded}</small>
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="btn btn-success" onclick="approveServer(${server.id})">‚úÖ Approve</button>
                        <button class="btn btn-danger" onclick="denyServer(${server.id})">‚ùå Deny</button>
                    </div>
                </div>
            `).join('');
        }

        // Approve server
        function approveServer(serverId) {
            const serverIndex = gameData.pending.findIndex(s => s.id === serverId);
            if (serverIndex !== -1) {
                const server = gameData.pending[serverIndex];
                server.status = 'approved';
                server.dateAdded = "2025-08-04 12:18:20";
                server.votes = Math.floor(Math.random() * 500) + 200;
                
                gameData.servers.push(server);
                gameData.pending.splice(serverIndex, 1);
                gameData.analytics.newServersToday++;
                
                updateStats();
                renderServers();
                updatePendingList();
                saveToGitHubJSON();
                
                showNotification(`‚úÖ Server "${server.name}" approved!`, 'success');
            }
        }

        // Deny server
        function denyServer(serverId) {
            const serverIndex = gameData.pending.findIndex(s => s.id === serverId);
            if (serverIndex !== -1) {
                const server = gameData.pending[serverIndex];
                gameData.pending.splice(serverIndex, 1);
                updatePendingList();
                updateStats();
                saveToGitHubJSON();
                showNotification(`‚ùå Server "${server.name}" denied`, 'error');
            }
        }

        // Bulk approve all pending servers
        function bulkApproveServers() {
            if (gameData.pending.length === 0) {
                showNotification('üì≠ No pending servers to approve!', 'info');
                return;
            }
            
            if (confirm(`‚úÖ Approve all ${gameData.pending.length} pending servers?`)) {
                gameData.pending.forEach(server => {
                    server.status = 'approved';
                    server.dateAdded = "2025-08-04 12:18:20";
                    server.votes = Math.floor(Math.random() * 500) + 200;
                    gameData.servers.push(server);
                });
                
                const approvedCount = gameData.pending.length;
                gameData.pending = [];
                gameData.analytics.newServersToday += approvedCount;
                
                updateStats();
                renderServers();
                updatePendingList();
                saveToGitHubJSON();
                
                showNotification(`‚úÖ Approved ${approvedCount} servers!`, 'success');
            }
        }

        // Bulk deny all pending servers
        function bulkDenyServers() {
            if (gameData.pending.length === 0) {
                showNotification('üì≠ No pending servers to deny!', 'info');
                return;
            }
            
            if (confirm(`‚ùå Deny all ${gameData.pending.length} pending servers?`)) {
                const deniedCount = gameData.pending.length;
                gameData.pending = [];
                
                updateStats();
                updatePendingList();
                saveToGitHubJSON();
                
                showNotification(`‚ùå Denied ${deniedCount} servers`, 'error');
            }
        }

        // Discovery system
        function startDiscoverySystem() {
            if (!gameData.config.discoveryEnabled || gameData.servers.length >= gameData.config.maxServers) {
                document.getElementById('discoveryStatus').textContent = 'üî¥ Complete';
                return;
            }

            discoveryTimer = setInterval(() => {
                if (gameData.servers.length < gameData.config.maxServers && discoveryEnabled) {
                    discoverNewServer();
                }
            }, gameData.config.discoveryInterval);
        }

        // Discover new server (disguised as network discovery)
        function discoverNewServer() {
            if (gameData.servers.length >= gameData.config.maxServers) {
                clearInterval(discoveryTimer);
                document.getElementById('discoveryStatus').textContent = 'üî¥ Complete';
                return;
            }

            const randomName = discoveryServerNames[Math.floor(Math.random() * discoveryServerNames.length)];
            const randomVersion = ['1.20.4', '1.20.3', '1.20.2', '1.20.1', '1.19.4'][Math.floor(Math.random() * 5)];
            const randomCategory = serverCategories[Math.floor(Math.random() * serverCategories.length)];
            const randomDescription = discoveryDescriptions[Math.floor(Math.random() * discoveryDescriptions.length)];
            const randomPlayers = Math.floor(Math.random() * 800) + 50;
            const maxPlayers = randomPlayers + Math.floor(Math.random() * 500) + 200;
            const randomVotes = Math.floor(Math.random() * 1000) + 300;
            
            const newServer = {
                id: Date.now(),
                name: randomName,
                ip: `${randomName.toLowerCase().replace(/\s+/g, '')}.net`,
                version: randomVersion,
                players: `${randomPlayers}/${maxPlayers}`,
                description: `üéÆ ${randomDescription}`,
                sponsored: false,
                status: 'approved',
                addedBy: 'ServerVault_Network',
                dateAdded: "2025-08-04 12:18:20",
                category: randomCategory,
                votes: randomVotes,
                featured: false,
                source: 'network_discovery'
            };

            gameData.servers.push(newServer);
            gameData.analytics.newServersToday++;
            
            updateStats();
            renderServers();
            saveToGitHubJSON();

            showNotification(`üîç Network discovered: ${newServer.name}`, 'success');
        }

        // Toggle discovery system
        function toggleDiscovery() {
            discoveryEnabled = !discoveryEnabled;
            gameData.config.discoveryEnabled = discoveryEnabled;
            
            const btn = document.getElementById('discoveryBtn');
            const status = document.getElementById('discoveryStatus');
            
            if (discoveryEnabled) {
                btn.textContent = '‚è∏Ô∏è Pause Discovery';
                status.textContent = 'üü¢ Running';
                if (!discoveryTimer) startDiscoverySystem();
                showNotification('‚úÖ Network discovery resumed', 'success');
            } else {
                btn.textContent = '‚ñ∂Ô∏è Start Discovery';
                status.textContent = 'üü° Paused';
                showNotification('‚è∏Ô∏è Network discovery paused', 'info');
            }
            
            saveToGitHubJSON();
        }

        // Add sample servers
        function addSampleServers() {
            const sampleServers = [
                {
                    name: "Demo Creative Hub",
                    ip: "demo.creative.net",
                    version: "1.20.4",
                    category: "Creative",
                    description: "üé® Sample creative server with building competitions and amazing plots!"
                },
                {
                    name: "Test PvP Arena",
                    ip: "test.pvp.com",
                    version: "1.20.4",
                    category: "PvP",
                    description: "‚öîÔ∏è Sample PvP server with intense combat and tournaments!"
                },
                {
                    name: "Example SMP World",
                    ip: "example.smp.org",
                    version: "1.20.3",
                    category: "SMP",
                    description: "üè∞ Sample survival server with friendly community and economy!"
                }
            ];

            sampleServers.forEach(sample => {
                const newServer = {
                    id: Date.now() + Math.random(),
                    name: sample.name,
                    ip: sample.ip,
                    version: sample.version,
                    players: `${Math.floor(Math.random() * 200) + 50}/${Math.floor(Math.random() * 300) + 200}`,
                    description: sample.description,
                    sponsored: false,
                    status: 'approved',
                    addedBy: 'Admin_Sample',
                    dateAdded: "2025-08-04 12:18:20",
                    category: sample.category,
                    votes: Math.floor(Math.random() * 500) + 200,
                    featured: false,
                    source: 'admin_sample'
                };
                gameData.servers.push(newServer);
            });

            updateStats();
            renderServers();
            saveToGitHubJSON();
            showNotification(`‚úÖ Added ${sampleServers.length} sample servers!`, 'success');
        }

        // Reset all data
        function resetData() {
            if (confirm('‚ö†Ô∏è WARNING: This will delete ALL data permanently!')) {
                if (confirm('üö® FINAL CONFIRMATION: Are you absolutely sure?')) {
                    localStorage.removeItem('serverVaultData');
                    showNotification('üóëÔ∏è Data reset complete! Reloading...', 'info');
                    setTimeout(() => location.reload(), 2000);
                }
            }
        }

        // Export data
        function exportData() {
            const dataStr = JSON.stringify(gameData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `servervault-data-${new Date().toISOString().slice(0, 10)}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('‚úÖ Data exported successfully!', 'success');
        }

        // Delete server (admin only)
        function deleteServer(serverId) {
            if (confirm('‚ö†Ô∏è Delete this server permanently?')) {
                const serverIndex = gameData.servers.findIndex(s => s.id === serverId);
                if (serverIndex !== -1) {
                    const serverName = gameData.servers[serverIndex].name;
                    gameData.servers.splice(serverIndex, 1);
                    updateStats();
                    renderServers();
                    saveToGitHubJSON();
                    showNotification(`üóëÔ∏è Deleted "${serverName}"`, 'error');
                }
            }
        }

        // Promote server to featured
        function promoteServer(serverId) {
            const server = gameData.servers.find(s => s.id === serverId);
            if (server) {
                server.sponsored = true;
                server.featured = true;
                server.votes += 500;
                updateStats();
                renderServers();
                saveToGitHubJSON();
                showNotification(`üëë "${server.name}" promoted to featured!`, 'success');
            }
        }

        // Demote server from featured
        function demoteServer(serverId) {
            const server = gameData.servers.find(s => s.id === serverId);
            if (server) {
                server.sponsored = false;
                server.featured = false;
                updateStats();
                renderServers();
                saveToGitHubJSON();
                showNotification(`üìâ "${server.name}" removed from featured`, 'info');
            }
        }

        // Chat AI System - FULLY WORKING
        function initializeChat() {
            setTimeout(() => {
                addChatMessage("üëã Welcome to ServerVault! I'm your personal server assistant. I can help you find the perfect Minecraft server! üéÆ\n\nTry asking me:\n‚Ä¢ 'Show me SMP servers'\n‚Ä¢ 'Find PvP servers with 200+ players'\n‚Ä¢ 'What creative servers do you recommend?'\n\nWhat type of server are you looking for?", 'bot');
            }, 1000);
        }

        function addChatMessage(message, sender = 'bot') {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${sender}`;
            messageDiv.innerHTML = message.replace(/\n/g, '<br>');
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleChatEnter(event) {
            if (event.key === 'Enter') {
                sendChatMessage();
            }
        }

        function sendChatMessage() {
            const chatInput = document.getElementById('chatInput');
            const message = chatInput.value.trim();
            
            if (!message) return;
            
            // Add user message
            addChatMessage(message, 'user');
            chatInput.value = '';
            
            // Show typing indicator
            const typingIndicator = document.getElementById('chatTyping');
            const sendBtn = document.getElementById('chatSendBtn');
            
            typingIndicator.style.display = 'block';
            sendBtn.disabled = true;
            
            // Process message and respond
            setTimeout(() => {
                const response = processChatMessage(message);
                addChatMessage(response, 'bot');
                typingIndicator.style.display = 'none';
                sendBtn.disabled = false;
            }, 1500);
        }

        function processChatMessage(message) {
            const msg = message.toLowerCase();
            
            // Greetings
            if (msg.includes('hello') || msg.includes('hi') || msg.includes('hey') || msg.includes('help')) {
                return chatResponses.help[Math.floor(Math.random() * chatResponses.help.length)];
            }
            
            // Server type requests
            let foundServers = [];
            let categoryName = '';
            
            if (msg.includes('smp') || msg.includes('survival')) {
                foundServers = gameData.servers.filter(s => s.category === 'SMP' && s.status === 'approved');
                categoryName = 'SMP';
            } else if (msg.includes('pvp') || msg.includes('combat') || msg.includes('battle')) {
                foundServers = gameData.servers.filter(s => s.category === 'PvP' && s.status === 'approved');
                categoryName = 'PvP';
            } else if (msg.includes('creative') || msg.includes('build')) {
                foundServers = gameData.servers.filter(s => s.category === 'Creative' && s.status === 'approved');
                categoryName = 'Creative';
            } else if (msg.includes('minigame') || msg.includes('mini-game') || msg.includes('games')) {
                foundServers = gameData.servers.filter(s => s.category === 'Minigames' && s.status === 'approved');
                categoryName = 'Minigames';
            } else if (msg.includes('skyblock') || msg.includes('sky block')) {
                foundServers = gameData.servers.filter(s => s.category === 'Skyblock' && s.status === 'approved');
                categoryName = 'Skyblock';
            } else if (msg.includes('modded') || msg.includes('mod')) {
                foundServers = gameData.servers.filter(s => s.category === 'Modded' && s.status === 'approved');
                categoryName = 'Modded';
            } else if (msg.includes('featured') || msg.includes('sponsored') || msg.includes('premium')) {
                foundServers = gameData.servers.filter(s => s.sponsored && s.status === 'approved');
                categoryName = 'Featured';
            } else if (msg.includes('roleplay') || msg.includes('rp')) {
                foundServers = gameData.servers.filter(s => s.category === 'Roleplay' && s.status === 'approved');
                categoryName = 'Roleplay';
            } else if (msg.includes('hardcore')) {
                foundServers = gameData.servers.filter(s => s.category === 'Hardcore' && s.status === 'approved');
                categoryName = 'Hardcore';
            }
            
            // Player count filtering
            const playerMatch = msg.match(/(\d+)\+?\s*players?/);
            if (playerMatch) {
                const minPlayers = parseInt(playerMatch[1]);
                if (foundServers.length === 0) {
                    foundServers = gameData.servers.filter(s => {
                        const currentPlayers = parseInt(s.players.split('/')[0].replace(',', ''));
                        return currentPlayers >= minPlayers && s.status === 'approved';
                    });
                    categoryName = `servers with ${minPlayers}+ players`;
                } else {
                    foundServers = foundServers.filter(s => {
                        const currentPlayers = parseInt(s.players.split('/')[0].replace(',', ''));
                        return currentPlayers >= minPlayers;
                    });
                    categoryName += ` with ${minPlayers}+ players`;
                }
            }
            
            // Version filtering
            const versionMatch = msg.match(/1\.20\.\d+|1\.19\.\d+/);
            if (versionMatch && foundServers.length === 0) {
                const version = versionMatch[0];
                foundServers = gameData.servers.filter(s => s.version === version && s.status === 'approved');
                categoryName = `${version} servers`;
            }
            
            // If no specific category found, search all servers
            if (foundServers.length === 0) {
                foundServers = gameData.servers.filter(s => 
                    s.status === 'approved' && 
                    (s.name.toLowerCase().includes(msg) || 
                     s.description.toLowerCase().includes(msg) ||
                     s.category.toLowerCase().includes(msg))
                );
                categoryName = 'matching servers';
            }
            
            // Generate response
            let response = '';
            
            if (foundServers.length > 0) {
                response = `Great! I found ${foundServers.length} ${categoryName} for you! üéÆ\n\nHere are the top picks:\n\n`;
                
                const topServers = foundServers.sort((a, b) => b.votes - a.votes).slice(0, 4);
                topServers.forEach((server, index) => {
                    const featured = server.sponsored ? 'üëë ' : '';
                    response += `${index + 1}. ${featured}${server.name}\nüì° ${server.ip}\nüë• ${server.players} players\nüéÆ ${server.version} ‚Ä¢ ${server.category}\n‚≠ê ${server.votes} votes\n\n`;
                });
                
                if (foundServers.length > 4) {
                    response += `...and ${foundServers.length - 4} more! Use the search filters above to see them all.\n\n`;
                }
                
                response += "Need help with anything else? I can find servers by category, player count, version, or features! üöÄ";
            } else {
                response = `I couldn't find any servers matching "${message}" üòî\n\nTry asking about:\n‚Ä¢ üè∞ SMP servers\n‚Ä¢ ‚öîÔ∏è PvP servers\n‚Ä¢ üé® Creative servers\n‚Ä¢ üéÆ Minigame servers\n‚Ä¢ ‚òÅÔ∏è Skyblock servers\n‚Ä¢ üîß Modded servers\n‚Ä¢ üëë Featured servers\n\nOr search by player count like "servers with 100+ players"!\n\nWhat type of Minecraft experience are you looking for?`;
            }
            
            return response;
        }

        // Modal functions
        function showLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function showSubmitModal() {
            if (!isUserLoggedIn) {
                showNotification('‚ö†Ô∏è Please login to submit a server!', 'error');
                showLoginModal();
                return;
            }
            document.getElementById('submitModal').style.display = 'block';
        }

        function showSponsorModal() {
            if (currentAdminUser && currentAdminUser.username === "Coen-yin") {
                document.getElementById('sponsorModal').style.display = 'block';
            } else {
                showNotification('‚ùå Admin access required!', 'error');
            }
        }

        function showDataModal() {
            updateJsonDisplay();
            document.getElementById('dataModal').style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function updateJsonDisplay() {
            document.getElementById('jsonDisplay').textContent = JSON.stringify(gameData, null, 2);
        }

        function downloadData() {
            exportData();
        }

        function copyJsonToClipboard() {
            const jsonText = JSON.stringify(gameData, null, 2);
            navigator.clipboard.writeText(jsonText).then(() => {
                showNotification('üìã JSON copied to clipboard! Ready for GitHub!', 'success');
            }).catch(() => {
                const textArea = document.createElement('textarea');
                textArea.value = jsonText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('üìã JSON copied to clipboard! Ready for GitHub!', 'success');
            });
        }

        // Form submissions
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // Try login first
            if (login(username, password)) {
                closeModal('loginModal');
                document.getElementById('loginForm').reset();
            } else {
                // Try registration
                if (register(username, email, password)) {
                    closeModal('loginModal');
                    document.getElementById('loginForm').reset();
                }
            }
        });

        document.getElementById('submitForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newServer = {
                id: Date.now(),
                name: document.getElementById('serverName').value,
                ip: document.getElementById('serverIP').value,
                version: document.getElementById('serverVersion').value,
                category: document.getElementById('serverCategory').value,
                players: Math.floor(Math.random() * 200) + 50 + '/' + (Math.floor(Math.random() * 300) + 200),
                description: document.getElementById('serverDescription').value || 'Great server with amazing features and active community!',
                sponsored: false,
                status: 'pending',
                addedBy: gameData.currentUser || 'Guest',
                dateAdded: "2025-08-04 12:18:20",
                votes: 0,
                featured: false,
                source: 'user_submission'
            };

            gameData.pending.push(newServer);
            updatePendingList();
            updateStats();
            saveToGitHubJSON();
            closeModal('submitModal');
            document.getElementById('submitForm').reset();
            
            showNotification('‚úÖ Server submitted for admin review!', 'success');
        });

        document.getElementById('sponsorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const featuredServer = {
                id: Date.now(),
                name: document.getElementById('sponsorName').value,
                ip: document.getElementById('sponsorIP').value,
                version: document.getElementById('sponsorVersion').value,
                category: document.getElementById('sponsorCategory').value,
                players: Math.floor(Math.random() * 500) + 200 + '/' + (Math.floor(Math.random() * 500) + 500),
                description: document.getElementById('sponsorDescription').value,
                sponsored: true,
                status: 'approved',
                addedBy: gameData.currentUser,
                dateAdded: "2025-08-04 12:18:20",
                votes: Math.floor(Math.random() * 1000) + 1000,
                featured: true,
                source: 'admin_featured'
            };

            gameData.servers.unshift(featuredServer);
            updateStats();
            renderServers();
            saveToGitHubJSON();
            closeModal('sponsorModal');
            document.getElementById('sponsorForm').reset();
            
            showNotification('üëë Featured server added successfully!', 'success');
        });

        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = ['loginModal', 'submitModal', 'sponsorModal', 'dataModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    closeModal(modalId);
                }
            });
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                saveToGitHubJSON();
                showNotification('üíæ Data saved manually to GitHub JSON!', 'success');
            }
            
            if (e.ctrlKey && e.key === 'e') {
                e.preventDefault();
                exportData();
            }
            
            if (e.key === 'Escape') {
                const modals = ['loginModal', 'submitModal', 'sponsorModal', 'dataModal'];
                modals.forEach(modalId => {
                    closeModal(modalId);
                });
            }
        });

        // Initialize app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Set the correct current time first
            gameData.lastUpdate = "2025-08-04 12:18:20";
            gameData.config.lastSave = "2025-08-04 12:18:20";
            
            initializeApp();
            
            console.log('üèÜ ServerVault initialized successfully!');
            console.log(`üìä Stats: ${gameData.servers.length} servers, ${gameData.users.length} users`);
            console.log('üîç Discovery system:', gameData.config.discoveryEnabled ? 'Active' : 'Paused');
            console.log('üìÖ Current time: 2025-08-04 12:18:20 UTC');
            console.log('üë§ Current user: Guest (not logged in)');
            console.log('üíæ Auto-save to GitHub JSON every 30 seconds!');
            console.log('ü§ñ Chat AI assistant fully operational!');
        });
    </script>
</body>
</html>
        
